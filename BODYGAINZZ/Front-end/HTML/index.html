<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>BodyGainzz - Accueil</title>

    <link href="https://fonts.googleapis.com/css2?family=Lato&family=Poppins:wght@600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="../CSS/index.css">
  </head>

  <body class="d-flex flex-column min-vh-100">

    <!--Navbar -->
    <nav class="navbar navbar-light bg-white px-3">
      <button class="navbar-toggler btn-menu" type="button" data-bs-toggle="offcanvas" data-bs-target="#menu" aria-controls="menu" aria-label="Ouvrir menu">
        <span class="navbar-toggler-icon"></span>
      </button>

      <a class="navbar-brand mx-auto" href="index.html">
            <img src="../images/Logo.png" alt="Logo" width="100" id="logo">
      </a>
      <a href="profile.html" class="d-flex align-items-center">
        <img src="../images/Image profil.png" alt="Profil" class="rounded-circle object-fit-cover" style="width: 60px; height: 60px;" id="photo">
      </a>
    </nav>

    <!--Menu hamburger -->
    <div class="offcanvas offcanvas-start text-center" tabindex="-1" id="menu">
      <div class="offcanvas-header justify-content-center">
        <h5 class="offcanvas-title mx-auto">Catégories</h5>
        <button type="button" class="btn-close position-absolute top-0 end-0 m-3" data-bs-dismiss="offcanvas"></button>
      </div>
      <div class="offcanvas-body flex-column justify-content-center">
        <ul class="list-unstyled">
          <li><a href="index.html" class="nav-link py-2">Accueil</a></li>
          <li><a href="category-training.html" class="nav-link py-2">Entraînement</a></li>
          <li><a href="category-nutrition.html" class="nav-link py-2">Nutrition</a></li>
          <li><a href="category-recovery.html" class="nav-link py-2">Récupération & Divers</a></li>
          <hr>
          <li><a href="connexion.html" class="nav-link py-2">Connexion</a></li>
          <li><a href="profil.html" class="nav-link py-2">Mon Profil</a></li>
        </ul>
      </div>
    </div>

    <!-- Contenu principal -->
    <div class="container mt-4">
      
      <!--Barre de recherche + Catégories -->
      <form class="bloc-recherche" action="#" method="GET">
        <div id="suggestions" class="list-group position-absolute" style="z-index: 1000; width: 100%; max-width: 400px;"></div>
        <input type="text" id="barre" class="form-control" placeholder="Rechercher un sujet..." />
        <button type="submit" class="btn-recherche">
          <i class="fas fa-search icone-recherche"></i>
        </button>
      </form>

      <div class="row text-center mt-5">
        <div class="col-md-4 mb-4 bloc-categorie">
          <a href="category-training.html" class="lien-categorie">
            <img src="../images/Image entrainement.png" class="img-categorie img-categorie-droite mb-2" alt="Catégorie Entraînement">
            <p><strong>ENTRAÎNEMENT</strong></p>
          </a>  
        </div>

        <div class="col-md-4 mb-4 bloc-categorie">
          <a href="category-nutrition.html" class="lien-categorie">
             <img src="../images/nutrition categorie.jpg" class="img-categorie mb-2" alt="Catégorie Nutrition">
              <p><strong>NUTRITION</strong></p>
          </a>
        </div>

        <div class="col-md-4 mb-4 bloc-categorie">
          <a href="category-nutrition.html" class="lien-categorie"></a>
          <button class="lien-categorie">
            <img src="../images/récupération catégorie.jpg" class="img-categorie mb-2" alt="Catégorie Récupération">
            <p><strong>RÉCUPÉRATION & DIVERS</strong></p>
          </button>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <h5>Sujets récents</h5>
          <ul class="list-group">
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Est-ce que la reverse diet est efficace ? 
              <button class="btn btn-outline-dark btn-sm">VOIR</button>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Low volume ou High volume ? 
              <button class="btn btn-outline-dark btn-sm">VOIR</button>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Quel complément pour un meilleur sommeil ?
              <button class="btn btn-outline-dark btn-sm">VOIR</button>
            </li>
          </ul>
        </div>
        <div class="col-md-6">
          <h5>Top membres</h5>
          <ol class="list-group list-group-numbered">
            <li class="list-group-item"><a href="#">John Dea</a> – 250 messages envoyés</li>
            <li class="list-group-item"><a href="#">IronMax</a> – 150 messages envoyés</li>
            <li class="list-group-item"><a href="#">BulkKing</a> – 125 messages envoyés</li>
          </ol>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="bg-black text-white text-center py-3 mt-5">
      <div class="container">
        <p class="mb-2" style="font-weight: 500; font-size: 0.95rem;">
          BodyGainzz - Le forum pour ceux qu'ils veulent progresser
        </p>

        <div style="font-size: 0.85rem;">
          <a href="#" class="text-secondary me-3 text-decoration-none">CGU</a>
          <a href="#" class="text-secondary me-3 text-decoration-none">Politique</a>
          <a href="#" class="text-secondary text-decoration-none">Contact</a>
        </div>

        <p class="mt-2 mb-0 text-secondary" style="font-size: 0.75rem;">
          © 2025 BodyGainzz
        </p>
      </div>
    </footer>

    <!-- Script JS pour animation du bouton hamburger -->
    <script>
      const btnMenu = document.querySelector('.btn-menu');
      const menu = document.getElementById('menu');

      btnMenu.addEventListener('click', () => {
        btnMenu.classList.add('tourne');
        btnMenu.classList.remove('retour');
      });

      menu.addEventListener('hidden.bs.offcanvas', () => {
        btnMenu.classList.remove('tourne');
        btnMenu.classList.add('retour');

        setTimeout(() => {
          btnMenu.classList.remove('retour');
        }, 600);
      });
// ...existing code...
let sujets = [];
fetch('../data/sujets.json')
  .then(res => res.json())
  .then(data => { sujets = data; });

const barre = document.getElementById('barre');
const suggestions = document.getElementById('suggestions');

barre.addEventListener('input', function() {
  const valeur = this.value.toLowerCase();
  suggestions.innerHTML = '';
  if (valeur.length === 0 || sujets.length === 0) {
    suggestions.style.display = 'none';
    return;
  }
  const resultats = sujets.filter(sujet => sujet.titre.toLowerCase().includes(valeur));
  if (resultats.length === 0) {
    suggestions.style.display = 'none';
    return;
  }
  resultats.forEach(sujet => {
    const item = document.createElement('button');
    item.type = 'button';
    item.className = 'list-group-item list-group-item-action';
    item.textContent = sujet.titre;
    item.onclick = () => {
      barre.value = sujet.titre;
      suggestions.innerHTML = '';
      suggestions.style.display = 'none';
      window.location.href = `topic.html?id=${sujet.id}`;
    };
    suggestions.appendChild(item);
  });
  suggestions.style.display = 'block';
});

barre.addEventListener('keydown', function(e) {
  if (e.key === 'Enter') {
    e.preventDefault();
    const valeur = this.value.toLowerCase();
    const sujet = sujets.find(s => s.titre.toLowerCase() === valeur);
    if (sujet) {
      window.location.href = `topic.html?id=${sujet.id}`;
    }
  }
});

document.addEventListener('click', function(e) {
  if (!barre.contains(e.target) && !suggestions.contains(e.target)) {
    suggestions.innerHTML = '';
    suggestions.style.display = 'none';
  }
});
// ...existing code...
    </script>
    
  </body>
</html>
